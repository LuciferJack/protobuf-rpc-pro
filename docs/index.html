<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>protobuf-rpc-pro</title>
    <meta name="generator" content="Hugo 0.30.2" />

    
    <meta name="description" content="a java implementation of Google&#39;s Protocol Buffer RPC services">
    
    <link rel="canonical" href="http://pjklauser.github.io/protobuf-rpc-pro/">
    
    <meta name="author" content="Peter Klauser">
    

    <meta property="og:url" content="http://pjklauser.github.io/protobuf-rpc-pro/">
    <meta property="og:title" content="protobuf-rpc-pro">
    
    <meta name="apple-mobile-web-app-title" content="protobuf-rpc-pro">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="http://pjklauser.github.io/protobuf-rpc-pro/images/favicon.ico">
    <link rel="icon" type="image/x-icon" href="http://pjklauser.github.io/protobuf-rpc-pro/images/favicon.ico">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('http://pjklauser.github.io/protobuf-rpc-pro/fonts/icon.eot');
        src: url('http://pjklauser.github.io/protobuf-rpc-pro/fonts/icon.eot')
               format('embedded-opentype'),
             url('http://pjklauser.github.io/protobuf-rpc-pro/fonts/icon.woff')
               format('woff'),
             url('http://pjklauser.github.io/protobuf-rpc-pro/fonts/icon.ttf')
               format('truetype'),
             url('http://pjklauser.github.io/protobuf-rpc-pro/fonts/icon.svg')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="http://pjklauser.github.io/protobuf-rpc-pro/stylesheets/application.css">
    <link rel="stylesheet" href="http://pjklauser.github.io/protobuf-rpc-pro/stylesheets/temporary.css">
    <link rel="stylesheet" href="http://pjklauser.github.io/protobuf-rpc-pro/stylesheets/palettes.css">
    <link rel="stylesheet" href="http://pjklauser.github.io/protobuf-rpc-pro/stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu&#43;Mono">
    <style>
      body, input {
        font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <script src="http://pjklauser.github.io/protobuf-rpc-pro/javascripts/modernizr.js"></script>

    
    <link href="http://pjklauser.github.io/protobuf-rpc-pro/index.xml" rel="alternate" type="application/rss+xml" title="protobuf-rpc-pro" />
    <link href="http://pjklauser.github.io/protobuf-rpc-pro/index.xml" rel="feed" type="application/rss+xml" title="protobuf-rpc-pro" />
    

  </head>
  <body class="palette-primary-red palette-accent-light-green">



	
	


<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        protobuf-rpc-pro
      </div>
    </div>

    

    
    <div class="button button-github" role="button" aria-label="GitHub">
      <a href="https://github.com/pjklauser" title="@pjklauser on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
    </div>
    
    
        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="https://github.com/pjklauser/protobuf-rpc-pro" class="project">
    <div class="banner">
      
      <div class="name">
        <strong>protobuf-rpc-pro <span class="version">3.3.5</span></strong>
        
          <br>
          pjklauser/protobuf-rpc-pro
        
      </div>
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      
        <ul class="repo">
          <li class="repo-download">
            <a href="https://github.com/pjklauser/protobuf-rpc-pro/archive/master.zip" target="_blank" title="Download" data-action="download">
              <i class="icon icon-download"></i> Download
            </a>
          </li>
          <li class="repo-stars">
            <a href="https://github.com/pjklauser/protobuf-rpc-pro/stargazers" target="_blank" title="Stargazers" data-action="star">
              <i class="icon icon-star"></i> Stars
              <span class="count">&ndash;</span>
            </a>
          </li>
        </ul>
        <hr>
      

      <div class="toc">
        
        <ul>
          




<li>
  
    



<a  title="Internals" href="http://pjklauser.github.io/protobuf-rpc-pro/internals/">
	
	Internals
</a>



  
</li>



<li>
  
    



<a  title="Release Notes" href="http://pjklauser.github.io/protobuf-rpc-pro/release-notes/">
	
	Release Notes
</a>



  
</li>



<li>
  
    



<a  title="Maven Dependencies" href="http://pjklauser.github.io/protobuf-rpc-pro/dependencies/">
	
	Maven Dependencies
</a>



  
</li>



<li>
  
    



<a  title="Guides" href="http://pjklauser.github.io/protobuf-rpc-pro/guides/">
	
	Guides
</a>



  
</li>


        </ul>
        

        
        <hr>
        <span class="section">The author</span>
        
        <ul>
          

          
          <li>
            <a href="https://github.com/pjklauser" target="_blank" title="@pjklauser on GitHub">
              @pjklauser on GitHub
            </a>
          </li>
          

          
        </ul>
        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			
				<h1>protobuf-rpc-pro </h1>

				

<p>This project provides an java implementation for Google&rsquo;s Protocol Buffer RPC services. The implementation builds upon Netty for low-level NIO.</p>

<h1 id="features">Features</h1>

<h2 id="tcp-connection-re-use">TCP connection re-use</h2>

<p>RPC calls from an RPC client can be multiplexed over a single TCP socket to an RPC server. The RPC client has full control of the TCP socket, which is kept open between calls. This avoids the extra overhead of TCP connection establishment for each call ( SYN, SSL handshake ).</p>

<h2 id="bi-directional-rpc-calls-client-to-server-and-server-to-client">Bi-directional RPC calls client to server and server to client</h2>

<p>It features a bidirectional architecture, in which a client can itself be a server and vice versa. In security conscious &ldquo;zoned&rdquo; environments, it is typical that TCP connectivity between zones is restricted to one direction ( normally client to server ). Firewall configurations are always a pain to setup and change, so being able to communicate as equal &ldquo;peers&rdquo; in either direction using Protocol Buffer services is handy. In particular when multiplexing calls over the same TCP connection. This is interesting because if the connection breaks, both client and server (eventually) realize that their peering is broken and both can have a common understanding of their respective states. It is even possible for a server to perform a blocking RPC call to the client who&rsquo;s blocking call it is currently servicing. It is possible for a client to open a connection to a server and then the server starts acting as client to the client which then acts as server, without the client ever having called a server call. This is enabled due to notifications issued on connection establishment, loss,  and reestablishment. Apart from the initiation of the TCP connection to a remote server, the RPC client and server are equivalent &ldquo;Peers&rdquo;.</p>

<h2 id="ssl-socket-layer-encryption-option">SSL socket layer encryption option</h2>

<p>Encrypting all data traffic between client and server is as easy as configuring a certificate truststore and keystore on both client and server. Both client and server authentication is used.</p>

<h2 id="data-compression">Data Compression</h2>

<p>Clients can choose whether data communications between client and server are compressed or not. The server can accept both compressing and un-compressing clients simultaneously. Compression sacrifices CPU resources ( and increases response times ) for IO usage reduction.</p>

<h2 id="rpc-call-cancellation">RPC call cancellation</h2>

<p>Fairly tricky to get right, but RPC call cancellation is supported with full semantics on both client and server sides. In process client calls are immediately failed, irrespective of whether the server side call processing is cancelled. The server side call will be cancelled on receipt of the client cancellation. This involves interrupting any thread which is currently processing the call. The processing thread can stop processing when the server controller indicates that cancellation has taken place. The RPC implementation will not return any reply message to the client after cancellation has been received on the server side. The RPC layer performs the appropriate cancel notification to the callbacks registered by the service implementation.</p>

<h2 id="rpc-call-timeout">RPC call timeout</h2>

<p>Although not specified in the protobuf RPC API, we support setting a timeout for RPC calls at the client. The semantics of RPC call timeout are almost identical to RPC call cancellation and more information is provided in the wiki.</p>

<h2 id="out-of-band-rpc-server-replies-to-client">Out-of-Band RPC server replies to client</h2>

<p>Enables parts of responses to be transferred from server to client before a call ends. For example a percent complete indicator for long running calls, or chunks of later data transfers.</p>

<h2 id="non-rpc-one-way-protocol-buffer-messaging">Non RPC / One-way Protocol Buffer messaging</h2>

<p>General purpose one way messaging between peers is enabled with &ldquo;Out-of-Band&rdquo; messages which are not correlated to any RPC calls. See &ldquo;StatusServer&rdquo; and &ldquo;StatusClient&rdquo; demo.</p>

<h2 id="semantics-for-calls-handling-on-tcp-connection-closure">Semantics for calls handling on TCP connection closure</h2>

<p>When an underlying TCP socket &ldquo;breaks&rdquo; or is closed by either client or server, all pending client calls are immediately failed towards the client. On the server side, pending calls are immediately cancelled.</p>

<h2 id="pluggable-logging-facility">Pluggable logging facility</h2>

<p>A pluggable logging facility is included to log RPC calls and their outcomes in Protocol Buffer format.</p>

<h2 id="protocol-buffer-wire-protocol">Protocol Buffer wire protocol</h2>

<p>The wire-protocol is Protocol Buffer defined, so as to be potentially cross-platform.</p>

			

			<aside class="copyright" role="note">
				
				&copy; 2017 Released under the Apache License 2.0 &ndash;
				
				Documentation built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">Material</a> theme.
			</aside>

			<footer class="footer">
				



<nav class="pagination" aria-label="Footer">
  <div class="previous">
  </div>

  
  
  <div class="next">
      <a href="http://pjklauser.github.io/protobuf-rpc-pro/tags/" title="Tags">
        <span class="direction">
          Next
        </span>
        <div class="page">
          <div class="stretch">
            <div class="title">
              Tags
            </div>
          </div>
          <div class="button button-next" role="button" aria-label="Next">
            <i class="icon icon-forward"></i>
          </div>
        </div>
      </a>
  </div>
</nav>



			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = 'http:\/\/pjklauser.github.io\/protobuf-rpc-pro\/';
      var repo_id  = 'pjklauser\/protobuf-rpc-pro';
    
    </script>

    <script src="http://pjklauser.github.io/protobuf-rpc-pro/javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;

            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }


        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "#";
            headers[i].appendChild(a);
        }
      }
    </script>

    
      <script>
        (function(i,s,o,g,r,a,m){
          i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||
          []).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;
          m.parentNode.insertBefore(a,m)
        })(window, document,
          'script', '//www.google-analytics.com/analytics.js', 'ga');
         
        ga('create', 'UA-18238203-3', 'auto');
        ga('set', 'anonymizeIp', true);
        ga('send', 'pageview');
         
        var buttons = document.querySelectorAll('a');
        Array.prototype.map.call(buttons, function(item) {
          if (item.host != document.location.host) {
            item.addEventListener('click', function() {
              var action = item.getAttribute('data-action') || 'follow';
              ga('send', 'event', 'outbound', action, item.href);
            });
          }
        });
         
        var query = document.querySelector('.query');
        query.addEventListener('blur', function() {
          if (this.value) {
            var path = document.location.pathname;
            ga('send', 'pageview', path + '?q=' + this.value);
          }
        });
      </script>
    

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

